{#{% macro translationForm(translations) %}#}
{#    <div class="accordion accordion-flush" id="product-translations">#}
{#        {% for product_translation in product.translations %}#}
{#            {% set locale = product_translation.locale %}#}

{#            <div class="accordion-item">#}
{#                <h2 class="accordion-header">#}
{#                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#translation-{{ locale }}" aria-expanded="{% if loop.first %}true{% else %}false{% endif %}" aria-controls="translation-{{ locale }}">#}
{#                        <span class="flag flag-sm flag-country-{{ locale|lower|split('_')|last }} me-3"></span>#}
{#                        {{ locale|sylius_locale_name }}#}
{#                    </button>#}
{#                </h2>#}
{#                <div id="translation-{{ locale }}" class="accordion-collapse collapse" data-bs-parent="#product-translations">#}
{#                    <div class="accordion-body bg-gray-400">#}
{#                        <div class="py-3 px-5">#}
{#                            <div class="card mb-3">#}
{#                                <div class="card-header">#}
{#                                    <div class="card-title">{{ 'sylius.ui.content'|trans }}</div>#}
{#                                </div>#}
{#                                <div class="card-body">#}
{#                                    <div class="divide-y">#}
{#                                        {% hook 'translations' with { product_translation } %}#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        {% endfor %}#}
{#    </div>#}
{#{% endmacro %}#}



{% macro translationForm(translations, resource) %}
    {% import '@SyliusCmsPlugin/Macro/imageWidget.html.twig' as image %}
    {% import '@SyliusCmsPlugin/Macro/mediaWidget.html.twig' as media %}
    {% import '@SyliusUi/Macro/flags.html.twig' as flags %}

    <div class="ui styled fluid accordion">
        {% for locale, translationForm in translations %}
            <div data-locale="{{ locale }}">
                <div class="title{% if 0 == loop.index0 %} active{% endif %}">
                    <i class="dropdown icon"></i>
                    {{ flags.fromLocaleCode(locale) }} {{ locale|sylius_locale_name }}
                </div>
                <div class="ui content{% if 0 == loop.index0 %} active{% endif %}">
                    {% for field in translationForm %}

                        {% if 'sylius_media_autocomplete_choice' in field.vars.block_prefixes %}
                            {{ media.mediaWidget(field) }}
                        {% elseif 'image' == field.vars.name %}
                            {{ image.imageWidget(field) }}
                        {% else %}
                            {{ form_row(field) }}
                        {% endif %}

                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endmacro %}

{% macro translationFormWithSlug(translations, slugFieldTemplate, resource) %}
    {% import '@SyliusCmsPlugin/Macro/imageWidget.html.twig' as image %}
    {% import '@SyliusCmsPlugin/Macro/mediaWidget.html.twig' as media %}
    {% import '@SyliusUi/Macro/flags.html.twig' as flags %}

    <div class="ui styled fluid accordion" data-bb-target="cms-slug-update">
        {% for locale, translationForm in translations %}
            <div data-locale="{{ locale }}" data-bb-cms-wrapper>
                <div class="title{% if 0 == loop.index0 %} active{% endif %}">
                    <i class="dropdown icon"></i>
                    {{ flags.fromLocaleCode(locale) }} {{ locale|sylius_locale_name }}
                </div>
                <div class="ui content{% if 0 == loop.index0 %} active{% endif %}">
                    {% for field in translationForm %}

                        {% if field.vars.name == 'slug' %}
                            {% include slugFieldTemplate with { 'slugField': translationForm.slug, 'resource': resource } %}
                        {% elseif 'sylius_media_autocomplete_choice' in field.vars.block_prefixes %}
                            {{ media.mediaWidget(field) }}
                        {% elseif 'image' == field.vars.name %}
                            {{ image.imageWidget(field) }}
                        {% else %}
                            {{ form_row(field) }}
                        {% endif %}

                    {% endfor %}
                </div>
            </div>
        {% endfor %}
    </div>
{% endmacro %}
