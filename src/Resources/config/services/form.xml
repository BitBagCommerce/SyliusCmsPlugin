<?xml version="1.0" encoding="UTF-8"?>

<container xmlns="http://symfony.com/schema/dic/services" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">
    <parameters>
        <parameter key="sylius_cms.content_elements.type.textarea" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\TextareaContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.single_media" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\SingleMediaContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.multiple_media" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\MultipleMediaContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.heading" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\HeadingContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.products_carousel" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\ProductsCarouselContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.products_carousel_by_taxon" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\ProductsCarouselByTaxonContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.products_grid" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\ProductsGridContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.products_grid_by_taxon" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\ProductsGridByTaxonContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.taxons_list" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\TaxonsListContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.pages_collection" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\PagesCollectionContentElementType::TYPE</parameter>
        <parameter key="sylius_cms.content_elements.type.spacer" type="constant">Sylius\CmsPlugin\Form\Type\ContentElements\SpacerContentElementType::TYPE</parameter>
    </parameters>

    <services>
        <defaults public="true" />

        <service id="sylius_cms.form.type.block" class="Sylius\CmsPlugin\Form\Type\BlockType">
            <argument>%sylius_cms.model.block.class%</argument>
            <argument>%sylius_cms.form.type.block.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_configuration" class="Sylius\CmsPlugin\Form\Type\ContentConfigurationType">
            <argument>Sylius\CmsPlugin\Entity\ContentConfiguration</argument>
            <argument>%sylius_cms.form.type.content_configuration.validation_groups%</argument>
            <argument type="tagged_iterator" tag="sylius_cms.content_elements.type" index-by="key" />
            <argument type="service" id="twig" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.block_image" class="Sylius\CmsPlugin\Form\Type\BlockImageType">
            <argument>Sylius\CmsPlugin\Entity\BlockImage</argument>
            <argument>%sylius_cms.form.type.block_image.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.page" class="Sylius\CmsPlugin\Form\Type\PageType">
            <argument>%sylius_cms.model.page.class%</argument>
            <argument>%sylius_cms.form.type.page.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.translation.page" class="Sylius\CmsPlugin\Form\Type\Translation\PageTranslationType">
            <argument>%sylius_cms.model.page_translation.class%</argument>
            <argument>%sylius_cms.form.type.translation.page.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.collection" class="Sylius\CmsPlugin\Form\Type\CollectionType">
            <argument>%sylius_cms.model.collection.class%</argument>
            <argument>%sylius_cms.form.type.collection.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.import" class="Sylius\CmsPlugin\Form\Type\ImportType">
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.translation.media" class="Sylius\CmsPlugin\Form\Type\Translation\MediaTranslationType">
            <argument>%sylius_cms.model.media_translation.class%</argument>
            <argument>%sylius_cms.form.type.translation.media.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.media" class="Sylius\CmsPlugin\Form\Type\MediaType">
            <argument>%sylius_cms.model.media.class%</argument>
            <argument>%sylius_cms.form.type.media.validation_groups%</argument>
            <argument>%sylius_cms.media_providers%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.wysiwyg" class="Sylius\CmsPlugin\Form\Type\WysiwygType">
            <argument type="service" id="router.default" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.template" class="Sylius\CmsPlugin\Form\Type\TemplateType">
            <argument>%sylius_cms.model.template.class%</argument>
            <argument>%sylius_cms.form.type.template.validation_groups%</argument>
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element" class="Sylius\CmsPlugin\Form\Type\ContentElementType">
            <argument type="tagged_iterator" tag="sylius_cms.content_elements.type" index-by="key" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.textarea" class="Sylius\CmsPlugin\Form\Type\ContentElements\TextareaContentElementType">
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.textarea%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.single_media" class="Sylius\CmsPlugin\Form\Type\ContentElements\SingleMediaContentElementType">
            <argument type="service" id="sylius_cms.repository.media" />
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.single_media%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.multiple_media" class="Sylius\CmsPlugin\Form\Type\ContentElements\MultipleMediaContentElementType">
            <argument type="service" id="sylius_cms.form.type.data_transformer.multiple_media_to_codes" />
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.multiple_media%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.heading" class="Sylius\CmsPlugin\Form\Type\ContentElements\HeadingContentElementType">
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.heading%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.products_carousel" class="Sylius\CmsPlugin\Form\Type\ContentElements\ProductsCarouselContentElementType">
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.products_carousel%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.products_carousel_by_taxon" class="Sylius\CmsPlugin\Form\Type\ContentElements\ProductsCarouselByTaxonContentElementType">
            <argument type="service" id="sylius.repository.taxon" />
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.products_carousel_by_taxon%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.products_grid" class="Sylius\CmsPlugin\Form\Type\ContentElements\ProductsGridContentElementType">
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.products_grid%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.products_grid_by_taxon" class="Sylius\CmsPlugin\Form\Type\ContentElements\ProductsGridByTaxonContentElementType">
            <argument type="service" id="sylius.repository.taxon" />
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.products_grid_by_taxon%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.taxons_list" class="Sylius\CmsPlugin\Form\Type\ContentElements\TaxonsListContentElementType">
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.taxons_list%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.pages_collection" class="Sylius\CmsPlugin\Form\Type\ContentElements\PagesCollectionContentElementType">
            <argument type="service" id="sylius_cms.repository.collection" />
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.pages_collection%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.content_element.spacer" class="Sylius\CmsPlugin\Form\Type\ContentElements\SpacerContentElementType">
            <tag name="sylius_cms.content_elements.type" key="%sylius_cms.content_elements.type.spacer%" />
            <tag name="form.type" />
        </service>

        <service id="sylius_cms.form.type.data_transformer.multiple_media_to_codes" class="Sylius\CmsPlugin\Form\DataTransformer\MultipleMediaToCodesTransformer">
            <argument type="service" id="sylius_cms.repository.media" />
        </service>

        <service id="bitbag_sylius_cms_plugin.form.data_transformer.content_element_checker" class="Sylius\CmsPlugin\Form\DataTransformer\ContentElementDataTransformerChecker"/>
    </services>

</container>
